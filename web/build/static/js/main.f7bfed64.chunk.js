(this["webpackJsonpkitty-items-web"]=this["webpackJsonpkitty-items-web"]||[]).push([[0],{136:function(e,t){},138:function(e,t){},153:function(e,t,n){var r={"./item01.svg":[159,4],"./item02.svg":[160,5],"./item03.svg":[161,6],"./item04.svg":[162,7],"./item05.svg":[163,8],"./item06.svg":[164,9],"./item065.svg":[165,10],"./item097.svg":[166,11]};function c(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(r)},c.id=153,e.exports=c},154:function(e,t,n){},155:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(69),a=n.n(i),s=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,194)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))},o=n(26),l=n(10),u=n(49),b=n(188),d=n(174),j=Object(d.a)({fonts:{body:"'Montserrat', sans-serif",heading:"'Montserrat', sans-serif"},colors:{}}),h=n(1);function m(e){var t=e.children;return Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(l.a,{children:Object(h.jsx)(b.a,{theme:j,children:Object(h.jsx)(u.a,{children:t})})})})}var p=n(3),O=function(e){var t=e.children;return Object(h.jsx)("div",{children:t})},f=n(4),x=Object(l.b)({key:"CURRENT_USER",default:{addr:null,loggedIn:null,cid:null}}),g={logIn:f.logIn,logOut:f.unauthenticate,signUp:f.signUp,changeUser:f.reauthenticate};function y(){var e=Object(l.e)(x),t=Object(p.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){return f.currentUser().subscribe(c)}),[c]),[n,null!=n.addr,g]}var k=n(175),I=n(176),v=n(177),w=n(189),C=n(190),K=n(178),P=n(179),S=n(191),F=n.p+"static/media/logo-kv.bbbfa163.svg";var N="LOADING",T="IDLE",D="PROCESSING";function A(){var e=Object(o.g)().address;return Object(f.withPrefix)(e)}var M=n(116),z=function(e){return fetch(e).then((function(e){return e.json()}))};var _=Object(l.b)({key:"market-items::state",default:[]}),U=Object(l.b)({key:"market-items::status",default:T});function E(){var e=Object(l.e)(U),t=Object(p.a)(e,2),n=t[0],r=t[1],c=Object(l.e)(_),i=Object(p.a)(c,2),a=i[0],s=i[1];Object(M.a)("http://localhost:3001/v1/market/latest",z,{initialData:a,refreshInterval:10,onLoadingSlow:function(){r(N)},onSuccess:function(e){var t=e.latestSaleOffers;s(t.map((function(e){return function(e){return Object.assign({},{itemID:e.sale_item_id,typeID:e.sale_item_type,name:e.sale_name,description:e.sale_description,owner:e.sale_item_owner,price:e.sale_price,txID:e.transaction_id})}(e)}))),r(T)},onError:function(e){console.log("Failed to fetch market items.",e)}});var o=new Map(a.map((function(e){return[e.itemID,e]})));return{status:n,items:a,has:function(e){return o.has(e.itemID)}}}var V,B=n(5),R=n.n(B),W=n(8),L=n(28),Y=n(16),G=f.cdc(V||(V=Object(L.a)(["\n  import NonFungibleToken from 0xNonFungibleToken\n  import KittyItems from 0xKittyItems\n\n  pub fun main(address: Address): [UInt64] {\n    if let collection =  getAccount(address).getCapability<&KittyItems.Collection{NonFungibleToken.CollectionPublic, KittyItems.KittyItemsCollectionPublic}>(KittyItems.CollectionPublicPath).borrow() {\n      return collection.getIDs()\n    }\n\n    return []\n  }\n"])));function q(e){return null==e?Promise.resolve([]):f.send([f.script(G),f.args([f.arg(e,Y.Address)])]).then(f.decode).then((function(e){return e.sort((function(e,t){return e-t}))}))}var J=0;console.log("hey"+J);var X=function(){var e=Object(r.useState)(""),t=Object(p.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(""),a=Object(p.a)(i,2),s=a[0],o=a[1],l=Object(r.useState)(null),u=Object(p.a)(l,2),b=u[0],d=u[1],j=Object(r.useState)(""),m=Object(p.a)(j,2),O=m[0],f=m[1],x=Object(r.useState)(""),g=Object(p.a)(x,2),k=g[0],I=g[1],w=Object(r.useState)(""),C=Object(p.a)(w,2),K=C[0],P=C[1],F=Object(r.useState)(!1),N=Object(p.a)(F,2),D=N[0],M=N[1],z=Object(r.useState)(!1),_=Object(p.a)(z,2),U=_[0],E=_[1],V=Object(r.useState)({title1:"",description:"",price1:Y.Int,price2:"",price3:"",length:""}),B=Object(p.a)(V,2),R=B[0],W=B[1],L=y(),G=Object(p.a)(L,1)[0],q=A(),X=Q(q);if(null==q)return Object(h.jsx)("div",{children:"Not Found"});var H=function(e){switch(e){case"showHide1":M(!D),!0===U&&E(!1);break;case"showHide2":E(!U),!0===D&&M(!1);break;default:M(!1),E(!1)}},Z=function(e){P(e.target.value);var t=e.target.value;W({length:t});for(var n=e.target.id,r=1;r<=3;r++)document.getElementById("Check"+r).checked=!1;document.getElementById(n).checked=!0};return Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),J=parseInt("".concat(b)),G.addr===q?X.mint():alert("Must be logged on to your account"),""===n&&alert("\n        You must enter a Name for the NFT.\n      "),""===s&&alert("\n        You must enter a Description for the NFT.\n      "),null===b&&!0===D&&alert("\n        You must enter a Fixed Price for the NFT.\n      "),""===O&&!0===U&&alert("\n        You must enter a Starting Bid Price for the NFT.\n      "),""===K&&!0===U&&alert("\n        You must enter a Auction Length for the NFT.\n      "),""!==n&&""!==s&&null!==b&&!0===D&&alert("\n        ____Your NFT____\n\n        Name : ".concat(n,"\n        Description : ").concat(s,"\n        Price : ").concat(b,"\n      ")),""!==n&&""!==s&&""!==O&&""!==K&&!0===U&&""===k?alert("\n        ____Your NFT____\n\n        Name : ".concat(n,"\n        Description : ").concat(s,"\n        Starting Bid : ").concat(O,"\n        Auction Length : ").concat(K,"\n      ")):""!==n&&""!==s&&""!==O&&""!==K&&!0===U&&""!==k&&alert("\n        ____Your NFT____\n\n        Name : ".concat(n,"\n        Description : ").concat(s,"\n        Starting Bid : ").concat(O,"\n        Immediate Buy Price : ").concat(k,"\n        Auction Length : ").concat(K,"\n      "))},children:[Object(h.jsx)(v.a,{children:Object(h.jsxs)("label",{htmlFor:"title1",children:["Name:",Object(h.jsx)("br",{}),Object(h.jsx)("input",{name:"title1",value:R.title1,placeholder:"Name",onChange:function(e){c(e.target.value);var t=e.target.value;W({title1:t})}})]})}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)(v.a,{children:Object(h.jsxs)("label",{htmlFor:"description",children:["What is this NFT?",Object(h.jsx)("br",{}),Object(h.jsx)("input",{name:"description",value:R.description,placeholder:"Description",onChange:function(e){o(e.target.value);var t=e.target.value;W({description:t})}})]})}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)(v.a,{children:Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{type:"radio",name:"tab",onClick:function(){return H("showHide1")}}),"Fixed Price:"]})}),D&&Object(h.jsx)("div",{children:Object(h.jsx)(v.a,{children:Object(h.jsxs)("label",{htmlFor:"price1",children:[Object(h.jsx)(v.a,{children:Object(h.jsx)("input",{name:"price1",type:"number",value:R.price1,placeholder:"10.00",onChange:function(e){d(e.target.value);var t=e.target.value;W({price1:t})}})}),Object(h.jsx)("br",{}),"(**Price ",Object(h.jsx)("b",{children:"NOT"})," Including Gas Fees**)",Object(h.jsx)("br",{}),Object(h.jsx)("br",{})]})})}),Object(h.jsx)(v.a,{children:Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{type:"radio",name:"tab",onClick:function(){return H("showHide2")}}),"Auction NFT"]})}),U&&Object(h.jsxs)("div",{children:[Object(h.jsxs)(v.a,{children:["Auction Length:",Object(h.jsx)("div",{class:"form-check form-check-inline",children:Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{name:"length",type:"radio",id:"Check1",value:R.length="24",onChange:Z}),"24 Hours"]})}),Object(h.jsx)("div",{class:"form-check form-check-inline",children:Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{name:"length",type:"radio",id:"Check2",value:R.length="48",onChange:Z}),"48 Hours"]})}),Object(h.jsx)("div",{class:"form-check form-check-inline",children:Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{name:"length",type:"radio",id:"Check3",value:R.length="72",onChange:Z}),"72 Hours"]})})]}),Object(h.jsx)("br",{}),Object(h.jsx)(v.a,{children:Object(h.jsxs)("label",{children:["Starting Bid Price:",Object(h.jsx)("input",{name:"price2",value:R.price2,placeholder:"10.00",onChange:function(e){f(e.target.value);var t=e.target.value;W({price2:t})}})]})}),Object(h.jsx)("br",{}),Object(h.jsxs)(v.a,{children:["Immediate Buying Price:",Object(h.jsx)("input",{name:"price3",value:R.price3,placeholder:"10.00 (Optional)",onChange:function(e){I(e.target.value);var t=e.target.value;W({price3:t})}})]}),Object(h.jsx)("br",{}),Object(h.jsxs)(v.a,{children:["(**Price\xa0",Object(h.jsx)("b",{children:"NOT"}),"\xa0Including Gas Fees**)"]}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{})]}),Object(h.jsx)("br",{}),Object(h.jsx)(v.a,{children:Object(h.jsx)(S.a,{type:"submit",disabled:X.status!==T,children:"Create My NFT"})})]})},H=Object(l.c)({key:"account-items::state",default:Object(l.d)({key:"account-items::default",get:function(e){return Object(W.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",q(e));case 1:case"end":return t.stop()}}),t)})))}})}),Z=Object(l.c)({key:"account-items::status",default:T});function Q(e){var t=Object(l.e)(H(e)),n=Object(p.a)(t,2),r=n[0],c=n[1],i=Object(l.e)(Z(e)),a=Object(p.a)(i,2),s=a[0],o=a[1];return{ids:r,status:s,mint:function(){return Object(W.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(D),t.next=3,fetch("http://localhost:3001/v1/kitty-items/mint",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipient:e,typeID:J})});case 3:return t.next=5,q(e).then(c);case 5:o(T);case 6:case"end":return t.stop()}}),t)})))()},refresh:function(){return Object(W.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(D),t.next=3,q(e).then(c);case 3:o(T);case 4:case"end":return t.stop()}}),t)})))()}}}var $,ee=n(9),te=Object(f.cdc)($||($=Object(L.a)(['\n  import FungibleToken from 0xFungibleToken\n  import NonFungibleToken from 0xNonFungibleToken\n  import Kibble from 0xKibble\n  import KittyItems from 0xKittyItems\n  import KittyItemsMarket from 0xKittyItemsMarket\n\n  pub fun hasKibble(_ address: Address): Bool {\n    let receiver: Bool = getAccount(address)\n      .getCapability<&Kibble.Vault{FungibleToken.Receiver}>(Kibble.ReceiverPublicPath)\n      .check()\n\n    let balance: Bool = getAccount(address)\n      .getCapability<&Kibble.Vault{FungibleToken.Balance}>(Kibble.BalancePublicPath)\n      .check()\n\n    return receiver && balance\n  }\n\n  pub fun hasKittyItems(_ address: Address): Bool {\n    return getAccount(address)\n      .getCapability<&KittyItems.Collection{NonFungibleToken.CollectionPublic, KittyItems.KittyItemsCollectionPublic}>(KittyItems.CollectionPublicPath)\n      .check()\n  }\n\n  pub fun hasKittyItemsMarket(_ address: Address): Bool {\n    return getAccount(address)\n      .getCapability<&KittyItemsMarket.Collection{KittyItemsMarket.CollectionPublic}>(KittyItemsMarket.CollectionPublicPath)\n      .check()\n  }\n\n  pub fun main(address: Address): {String: Bool} {\n    let ret: {String: Bool} = {}\n    ret["Kibble"] = hasKibble(address)\n    ret["KittyItems"] = hasKittyItems(address)\n    ret["KittyItemsMarket"] = hasKittyItemsMarket(address)\n    return ret\n  }\n'])));function ne(e){return null==e?Promise.resolve(!1):Object(f.send)([Object(f.script)(te),Object(f.args)([Object(f.arg)(e,Y.Address)])]).then(f.decode)}var re,ce=n(22),ie=function(){var e=Object(W.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ae(){return se.apply(this,arguments)}function se(){return(se=Object(W.a)(R.a.mark((function e(){var t,n,r,c,i,a,s,o,l,u,b,d=arguments;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:[],n=d.length>1&&void 0!==d[1]?d[1]:{},r=n.onStart||ie,c=n.onSubmission||ie,i=n.onUpdate||ie,a=n.onSuccess||ie,s=n.onError||ie,o=n.onComplete||ie,e.prev=8,r(),e.next=12,f.send(t).then(f.decode);case 12:return l=e.sent,e.t0=console,e.t1="%cTX[".concat(l,"]: "),e.t2=oe,e.next=18,f.config().get("env");case 18:return e.t3=e.sent,e.t4=l,e.t5=(0,e.t2)(e.t3,e.t4),e.t6=e.t1.concat.call(e.t1,e.t5),e.t0.info.call(e.t0,e.t6,"color:purple;font-weight:bold;font-family:monospace;"),c(l),e.next=26,f.tx(l).subscribe(i);case 26:return u=e.sent,e.next=29,f.tx(l).onceSealed();case 29:return b=e.sent,u(),e.t7=console,e.t8="%cTX[".concat(l,"]: "),e.t9=oe,e.next=36,f.config().get("env");case 36:return e.t10=e.sent,e.t11=l,e.t12=(0,e.t9)(e.t10,e.t11),e.t13=e.t8.concat.call(e.t8,e.t12),e.t7.info.call(e.t7,e.t13,"color:green;font-weight:bold;font-family:monospace;"),e.next=43,a(b);case 43:return e.abrupt("return",b);case 46:return e.prev=46,e.t14=e.catch(8),e.t15=console,e.t16="TX[".concat(l,"]: "),e.t17=oe,e.next=53,f.config().get("env");case 53:e.t18=e.sent,e.t19=l,e.t20=(0,e.t17)(e.t18,e.t19),e.t21=e.t16.concat.call(e.t16,e.t20),e.t22=e.t14,e.t15.error.call(e.t15,e.t21,e.t22),s(e.t14);case 60:return e.prev=60,e.next=63,o();case 63:return e.finish(60);case 64:case"end":return e.stop()}}),e,null,[[8,46,60,64]])})))).apply(this,arguments)}function oe(e,t){return"https://flow-view-source.com/".concat(e,"/tx/").concat(t)}var le=Object(f.cdc)(re||(re=Object(L.a)(["\n  import FungibleToken from 0xFungibleToken\n  import NonFungibleToken from 0xNonFungibleToken\n  import Kibble from 0xKibble\n  import KittyItems from 0xKittyItems\n  import KittyItemsMarket from 0xKittyItemsMarket\n\n  pub fun hasKibble(_ address: Address): Bool {\n    let receiver = getAccount(address)\n      .getCapability<&Kibble.Vault{FungibleToken.Receiver}>(Kibble.ReceiverPublicPath)\n      .check()\n\n    let balance = getAccount(address)\n      .getCapability<&Kibble.Vault{FungibleToken.Balance}>(Kibble.BalancePublicPath)\n      .check()\n\n    return receiver && balance\n  }\n\n  pub fun hasItems(_ address: Address): Bool {\n    return getAccount(address)\n      .getCapability<&KittyItems.Collection{NonFungibleToken.CollectionPublic, KittyItems.KittyItemsCollectionPublic}>(KittyItems.CollectionPublicPath)\n      .check()\n  }\n\n  pub fun hasMarket(_ address: Address): Bool {\n    return getAccount(address)\n      .getCapability<&KittyItemsMarket.Collection{KittyItemsMarket.CollectionPublic}>(KittyItemsMarket.CollectionPublicPath)\n      .check()\n  }\n\n  transaction {\n    prepare(acct: AuthAccount) {\n      if !hasKibble(acct.address) {\n        if acct.borrow<&Kibble.Vault>(from: Kibble.VaultStoragePath) == nil {\n          acct.save(<-Kibble.createEmptyVault(), to: Kibble.VaultStoragePath)\n        }\n        acct.unlink(Kibble.ReceiverPublicPath)\n        acct.unlink(Kibble.BalancePublicPath)\n        acct.link<&Kibble.Vault{FungibleToken.Receiver}>(Kibble.ReceiverPublicPath, target: Kibble.VaultStoragePath)\n        acct.link<&Kibble.Vault{FungibleToken.Balance}>(Kibble.BalancePublicPath, target: Kibble.VaultStoragePath)\n      }\n\n      if !hasItems(acct.address) {\n        if acct.borrow<&KittyItems.Collection>(from: KittyItems.CollectionStoragePath) == nil {\n          acct.save(<-KittyItems.createEmptyCollection(), to: KittyItems.CollectionStoragePath)\n        }\n        acct.unlink(KittyItems.CollectionPublicPath)\n        acct.link<&KittyItems.Collection{NonFungibleToken.CollectionPublic, KittyItems.KittyItemsCollectionPublic}>(KittyItems.CollectionPublicPath, target: KittyItems.CollectionStoragePath)\n      }\n\n      if !hasMarket(acct.address) {\n        if acct.borrow<&KittyItemsMarket.Collection>(from: KittyItemsMarket.CollectionStoragePath) == nil {\n          acct.save(<-KittyItemsMarket.createEmptyCollection(), to: KittyItemsMarket.CollectionStoragePath)\n        }\n        acct.unlink(KittyItemsMarket.CollectionPublicPath)\n        acct.link<&KittyItemsMarket.Collection{KittyItemsMarket.CollectionPublic}>(KittyItemsMarket.CollectionPublicPath, target:KittyItemsMarket.CollectionStoragePath)\n      }\n    }\n  }\n"])));function ue(e){return be.apply(this,arguments)}function be(){return(be=Object(W.a)(R.a.mark((function e(t){var n,r=arguments;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},Object(ce.a)(null!=t,"Tried to initialize an account but no address was supplied"),e.abrupt("return",ae([Object(f.transaction)(le),Object(f.limit)(70),Object(f.proposer)(f.authz),Object(f.payer)(f.authz),Object(f.authorizations)([f.authz])],n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise((function(t){setTimeout(t,e)}))}function je(e){return null==e?Promise.resolve(null):f.account(e).then((function(e){return e.balance}))}var he,me=Object(l.c)({key:"flow-balance::state",default:Object(l.d)({key:"flow-balance::default",get:function(e){return Object(W.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",je(e));case 1:case"end":return t.stop()}}),t)})))}})}),pe=Object(l.c)({key:"flow-balance::status",default:T});function Oe(e){var t=Object(l.e)(me(e)),n=Object(p.a)(t,2),r=n[0],c=n[1],i=Object(l.e)(pe(e)),a=Object(p.a)(i,2),s=a[0],o=a[1];return{balance:r,status:s,refresh:function(){return Object(W.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(D),t.next=3,je(e).then(c);case 3:o(T);case 4:case"end":return t.stop()}}),t)})))()}}}var fe=Object(f.cdc)(he||(he=Object(L.a)(["\n  import FungibleToken from 0xFungibleToken\n  import Kibble from 0xKibble\n\n  pub fun main(address: Address): UFix64? {\n    if let vault = getAccount(address).getCapability<&{FungibleToken.Balance}>(Kibble.BalancePublicPath).borrow() {\n      return vault.balance\n    }\n    return nil\n  }\n\n"])));function xe(e){return null==e?Promise.resolve(!1):Object(f.send)([Object(f.script)(fe),Object(f.args)([Object(f.arg)(e,Y.Address)])]).then(f.decode)}var ge=Object(l.c)({key:"kibbles-balance::state",default:Object(l.d)({key:"kibbles-balance::default",get:function(e){return Object(W.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",xe(e));case 1:case"end":return t.stop()}}),t)})))}})}),ye=Object(l.c)({key:"kibbles-balance::status",default:T});function ke(e){var t=Object(l.e)(ge(e)),n=Object(p.a)(t,2),r=n[0],c=n[1],i=Object(l.e)(ye(e)),a=Object(p.a)(i,2),s=a[0],o=a[1];function u(){return(u=Object(W.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(D),t.next=3,xe(e).then(c);case 3:o(T);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{balance:r,status:s,refresh:function(){return u.apply(this,arguments)},mint:function(){return Object(W.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(D),t.next=3,fetch("http://localhost:3001/v1/kibbles/mint",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipient:e,amount:50})});case 3:return t.next=5,xe(e).then(c);case 5:o(T);case 6:case"end":return t.stop()}}),t)})))()}}}var Ie=Object(l.c)({key:"init::status",default:T}),ve=Object(l.c)({key:"init::state",default:Object(l.d)({key:"init::default",get:function(e){return function(){return ne(e)}}})}),we=Object(l.d)({key:"init::computed",get:function(e){return function(){var t=Object(W.a)(R.a.mark((function t(n){var r,c;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.get,c=r(ve(e)),t.abrupt("return",c.Kibble&&c.KittyItems&&c.KittyItemsMarket);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}});function Ce(e){var t=Object(l.e)(ve(e)),n=Object(p.a)(t,2),r=n[0],c=n[1],i=Object(l.f)(we(e)),a=Object(l.e)(Ie(e)),s=Object(p.a)(a,2),o=s[0],u=s[1],b=Oe(e),d=ke(e);function j(){ne(e).then(c)}return Object(ee.a)(Object(ee.a)({},r),{},{isInitialized:i,status:null==i?N:o,recheck:j,initialize:function(){return Object(W.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ue(e,{onStart:function(){u(D)},onSuccess:function(){return Object(W.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(),b.refresh(),d.refresh(),u("SUCCESS");case 4:case"end":return e.stop()}}),e)})))()},onError:function(){u("ERROR")},onComplete:function(){return Object(W.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(1e3);case 2:u(T);case 3:case"end":return e.stop()}}),e)})))()}});case 1:case"end":return t.stop()}}),t)})))()}})}var Ke=n(180),Pe=n.p+"static/media/Vault.a8c165f7.jpg";function Se(){var e=y(),t=Object(p.a)(e,3),n=t[0],r=t[1],c=t[2],i=c.signUp,a=c.logIn,s=c.logOut;return r?Object(h.jsxs)(k.a,{backgroundImage:"url(https://burst.shopifycdn.com/photos/ripples-of-sand-in-black-and-white.jpg?width=4460&height=4460&exif=1&iptc=1)",backgroundSize:"cover",backgroundPosition:"center center",p:5,children:[Object(h.jsx)("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css",integrity:"sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4",crossOrigin:"anonymous"}),Object(h.jsxs)("div",{className:"jumbotron-fluid",children:[Object(h.jsx)(v.a,{className:"container-fluid",children:Object(h.jsx)("img",{className:"img-fluid rounded-circle",alt:"vaultDoor",src:Pe,style:{width:225,height:200}})}),Object(h.jsx)("div",{className:"container-fluid text-center",children:Object(h.jsx)("h1",{className:"display-3 font-weight-bold align-middle text-white",children:"The Vault"})}),Object(h.jsx)(P.a,{}),Object(h.jsxs)("div",{className:"container-fluid text-center text-white",children:[Object(h.jsx)(Ke.a,{as:u.b,mr:"4",to:"/"+n.addr,children:Object(h.jsxs)("u",{children:["Acct: ",n.addr]})}),Object(h.jsx)(S.a,{type:"button",className:"btn btn-light mr-5",onClick:s,children:"Log Out"})]})]})]}):Object(h.jsxs)(k.a,{backgroundImage:"url(https://burst.shopifycdn.com/photos/ripples-of-sand-in-black-and-white.jpg?width=4460&height=4460&exif=1&iptc=1)",backgroundSize:"cover",backgroundPosition:"center center",p:5,children:[Object(h.jsx)("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css",integrity:"sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4",crossOrigin:"anonymous"}),Object(h.jsxs)("div",{className:"jumbotron-fluid",id:"bg",children:[Object(h.jsx)(v.a,{className:"container-fluid",children:Object(h.jsx)("img",{className:"img-fluid rounded-circle",alt:"vaultDoor",src:Pe,style:{width:285,height:250}})}),Object(h.jsx)("div",{className:"container-fluid text-center",children:Object(h.jsx)("h1",{className:"display-3 font-weight-bold align-middle text-white",children:"The Vault"})}),Object(h.jsx)(P.a,{}),Object(h.jsx)("div",{className:"container-fluid text-center",children:Object(h.jsxs)(k.a,{children:[Object(h.jsx)(S.a,{mr:"4",type:"button",className:"btn btn-light btn-group mr-5",onClick:a,children:"Log In"}),Object(h.jsx)(S.a,{mr:"4",type:"button",className:"btn btn-light btn-group ml-5",onClick:i,children:"Sign Up"})]})})]})]})}function Fe(){return Object(h.jsx)(r.Suspense,{fallback:Object(h.jsx)("div",{children:"Loading..."}),children:Object(h.jsx)(Se,{})})}var Ne=n(192),Te=n(183),De=n(181),Ae=n(182),Me=function(e){return e?Object(h.jsx)(De.a,{color:"green.500"}):Object(h.jsx)(Ae.a,{color:"red.500"})};function ze(e){var t=e.address,n=Ce(t),r=y(),c=Object(p.a)(r,1)[0];return null==t?null:Object(h.jsxs)(k.a,{mb:"4",children:[Object(h.jsx)(k.a,{mb:"2",children:Object(h.jsxs)(I.a,{children:[Object(h.jsx)(K.a,{size:"md",mr:"4",children:"Account Initialized?"}),n.status!==T&&Object(h.jsx)(v.a,{children:Object(h.jsx)(Ne.a,{})})]})}),Object(h.jsx)(k.a,{maxW:"200px",borderWidth:"1px",borderRadius:"lg",children:Object(h.jsx)(Te.a,{size:"sm",children:Object(h.jsxs)(Te.b,{children:[Object(h.jsxs)(Te.f,{children:[Object(h.jsx)(Te.c,{children:"VCoin Access"}),Object(h.jsx)(Te.c,{children:Me(n.Kibble)})]}),Object(h.jsxs)(Te.f,{children:[Object(h.jsx)(Te.c,{children:"NFT Access"}),Object(h.jsx)(Te.c,{children:Me(n.KittyItems)})]}),Object(h.jsxs)(Te.f,{children:[Object(h.jsx)(Te.c,{children:"NFT Market Access"}),Object(h.jsx)(Te.c,{children:Me(n.KittyItemsMarket)})]})]})})}),!n.isInitialized&&t===c.addr&&Object(h.jsx)(k.a,{mt:"2",children:Object(h.jsx)(I.a,{children:Object(h.jsx)(S.a,{colorScheme:"blue",disabled:n.status!==T,onClick:n.initialize,children:"Initialize Account"})})})]})}function _e(e){var t=y();return Object(p.a)(t,1)[0].addr!==e.address?null:Object(h.jsx)(r.Suspense,{fallback:Object(h.jsx)(k.a,{mb:"2",children:Object(h.jsxs)(I.a,{children:[Object(h.jsx)(K.a,{size:"md",mr:"4",children:"Account Initialized?"}),Object(h.jsx)(v.a,{children:Object(h.jsx)(Ne.a,{size:"sm"})})]})}),children:Object(h.jsx)(ze,Object(ee.a)({},e))})}function Ue(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null==e?null:[String(e).replace(/0+$/,"").replace(/\.$/,""),t&&"KIBBLE"].filter(Boolean).join(" ")}function Ee(e){var t=e.address,n=Oe(t),r=ke(t),c=Ce(t);return Object(h.jsxs)(k.a,{mb:"4",children:[Object(h.jsx)(k.a,{mb:"2",children:Object(h.jsxs)(I.a,{children:[Object(h.jsx)(K.a,{size:"md",mr:"4",children:"Balances"}),(n.status!==T||r.status!==T)&&Object(h.jsx)(v.a,{children:Object(h.jsx)(Ne.a,{size:"sm"})})]})}),Object(h.jsx)(k.a,{maxW:"200px",borderWidth:"1px",borderRadius:"lg",children:Object(h.jsx)(Te.a,{size:"sm",children:Object(h.jsx)(Te.b,{children:Object(h.jsxs)(Te.f,{children:[Object(h.jsx)(Te.c,{children:"VCoins"}),r.status===T?Object(h.jsx)(Te.c,{isNumeric:!0,children:Ue(r.balance)}):Object(h.jsx)(Te.c,{isNumeric:!0,children:Object(h.jsx)(Ne.a,{size:"sm"})})]})})})}),Object(h.jsx)(k.a,{mt:"2",children:Object(h.jsx)(I.a,{children:Object(h.jsx)(S.a,{colorScheme:"blue",disabled:r.status!==T||!c.isInitialized,onClick:r.mint,children:"Request VCoins"})})})]})}function Ve(e){var t=y();return Object(p.a)(t,1)[0].addr!==e.address?null:Object(h.jsx)(r.Suspense,{fallback:Object(h.jsxs)(I.a,{children:[Object(h.jsx)(K.a,{size:"md",mr:"4",children:"Balances"}),Object(h.jsx)(v.a,{children:Object(h.jsx)(Ne.a,{size:"sm"})})]}),children:Object(h.jsx)(Ee,Object(ee.a)({},e))})}var Be,Re,We=n(18);function Le(e,t){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(W.a)(R.a.mark((function e(t,n){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.send([f.script(Be||(Be=Object(L.a)(["\n      import KittyItemsMarket from 0xKittyItemsMarket\n\n      pub struct SaleItem {\n        pub let itemID: UInt64\n        pub let typeID: UInt64\n        pub let owner: Address\n        pub let price: UFix64\n        \n\n        init(itemID: UInt64, typeID: UInt64, owner: Address, price: UFix64, ) {\n          self.itemID = itemID\n          self.typeID = typeID\n          self.owner = owner\n          self.price = price\n        }\n      }\n\n      pub fun main(address: Address, id: UInt64): SaleItem? {\n        if let collection = getAccount(address).getCapability<&KittyItemsMarket.Collection{KittyItemsMarket.CollectionPublic}>(KittyItemsMarket.CollectionPublicPath).borrow() {\n          if let item = collection.borrowSaleItem(itemID: id) {\n            return SaleItem(itemID: id, typeID: item.typeID, owner: address, price: item.price)\n          }\n        }\n        return nil\n      }\n    "]))),f.args([f.arg(t,Y.Address),f.arg(Number(n),Y.UInt64)])]).then(f.decode));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ge,qe=f.cdc(Re||(Re=Object(L.a)(['\n  import FungibleToken from 0xFungibleToken\n  import NonFungibleToken from 0xNonFungibleToken\n  import Kibble from 0xKibble\n  import KittyItems from 0xKittyItems\n  import KittyItemsMarket from 0xKittyItemsMarket\n\n  transaction(itemID: UInt64, marketCollectionAddress: Address) {\n      let paymentVault: @FungibleToken.Vault\n      let kittyItemsCollection: &KittyItems.Collection{NonFungibleToken.Receiver}\n      let marketCollection: &KittyItemsMarket.Collection{KittyItemsMarket.CollectionPublic}\n\n      prepare(acct: AuthAccount) {\n          self.marketCollection = getAccount(marketCollectionAddress)\n              .getCapability<&KittyItemsMarket.Collection{KittyItemsMarket.CollectionPublic}>(KittyItemsMarket.CollectionPublicPath)\n              .borrow() ?? panic("Could not borrow market collection from market address")\n\n          let price = self.marketCollection.borrowSaleItem(itemID: itemID)!.price\n\n          let mainKibbleVault = acct.borrow<&Kibble.Vault>(from: Kibble.VaultStoragePath)\n              ?? panic("Cannot borrow Kibble vault from acct storage")\n          self.paymentVault <- mainKibbleVault.withdraw(amount: price)\n\n          self.kittyItemsCollection = acct.borrow<&KittyItems.Collection{NonFungibleToken.Receiver}>(\n              from: KittyItems.CollectionStoragePath\n          ) ?? panic("Cannot borrow KittyItems collection receiver from acct")\n      }\n\n      execute {\n          self.marketCollection.purchase(\n              itemID: itemID,\n              buyerCollection: self.kittyItemsCollection,\n              buyerPayment: <- self.paymentVault\n          )\n      }\n  }\n'])));function Je(e){var t=e.itemID,n=e.ownerAddress,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(ce.a)(null!=t,"buyMarketItem({itemID, ownerAddress}) -- itemID required"),Object(ce.a)(null!=n,"buyMarketItem({itemID, ownerAddress}) -- ownerAddress required"),ae([f.transaction(qe),f.args([f.arg(Number(t),Y.UInt64),f.arg(String(n),Y.Address)]),f.proposer(f.authz),f.payer(f.authz),f.authorizations([f.authz]),f.limit(1e3)],r)}var Xe=f.cdc(Ge||(Ge=Object(L.a)(["\n  import KittyItemsMarket from 0xKittyItemsMarket\n\n  transaction(itemID: UInt64) {\n      prepare(account: AuthAccount) {\n          let listing <- account\n            .borrow<&KittyItemsMarket.Collection>(from: KittyItemsMarket.CollectionStoragePath)!\n            .remove(itemID: itemID)\n          destroy listing\n      }\n  }\n"])));function He(e){var t=e.itemID,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(ce.a)(null!=t,"cancelMarketListing({itemID}) -- itemID required"),ae([f.transaction(Xe),f.args([f.arg(Number(t),Y.UInt64)]),f.proposer(f.authz),f.payer(f.authz),f.authorizations([f.authz]),f.limit(1e3)],n)}function Ze(e){return e.split("|")}var Qe=Object(l.c)({key:"market-item::state",default:Object(l.d)({key:"market-item::default",get:function(e){return Object(W.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Le.apply(void 0,Object(We.a)(Ze(e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}})}),$e=Object(l.c)({key:"market-item::status",default:T});function et(e,t){var n=y(),c=Object(p.a)(n,1)[0],i=Q(e),a=Q(c.addr),s=ke(c.addr),o=function(e,t){return[e,t].join("|")}(e,t),u=Object(l.e)(Qe(o)),b=Object(p.a)(u,2),d=b[0],j=b[1],h=Object(l.e)($e(o)),m=Object(p.a)(h,2),O=m[0],x=m[1],g=Object(f.sansPrefix)(c.addr)===Object(f.sansPrefix)(e);return Object(r.useEffect)((function(){Le.apply(void 0,Object(We.a)(Ze(o))).then(j)}),[o,j]),Object(ee.a)(Object(ee.a)({},d),{},{status:O,owned:g,buy:function(){return Object(W.a)(R.a.mark((function n(){return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Je({itemID:t,ownerAddress:e},{onStart:function(){x(D)},onSuccess:function(){return Object(W.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e!==c.addr&&i.refresh(),a.refresh(),s.refresh();case 3:case"end":return t.stop()}}),t)})))()},onComplete:function(){return Object(W.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(T);case 1:case"end":return e.stop()}}),e)})))()},onError:function(e){return Object(W.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}});case 2:case"end":return n.stop()}}),n)})))()},cancelListing:function(){return Object(W.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He({itemID:t},{onStart:function(){x(D)},onSuccess:function(){return Object(W.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.refresh(),s.refresh();case 2:case"end":return e.stop()}}),e)})))()},onComplete:function(){return Object(W.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(T);case 1:case"end":return e.stop()}}),e)})))()},onError:function(e){return Object(W.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}});case 2:case"end":return e.stop()}}),e)})))()},refresh:function(){return Object(W.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(D),e.next=3,Le.apply(void 0,Object(We.a)(Ze(o))).then(j);case 3:x(T);case 4:case"end":return e.stop()}}),e)})))()}})}var tt,nt,rt,ct,it,at=n(184),st=n(15),ot=n(13),lt=n(79),ut="SET_CALLBACK",bt="PROCESS",dt="MAYBE_PROCESS",jt="TIMEOUT",ht="ENQUEUE",mt="RESOLVE",pt=(tt={},Object(st.a)(tt,ot.a,(function(e){e.put("need",new Set),e.put("processing",new Set),e.put("hold",{}),setInterval((function(){return e.sendSelf(jt)}),500)})),Object(st.a)(tt,ut,(function(e,t,n){e.put("callback",Object(W.a)(R.a.mark((function e(){var t=arguments;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.apply(void 0,t));case 1:case"end":return e.stop()}}),e)})))),e.sendSelf(dt)})),Object(st.a)(tt,ht,(function(e,t,n){var r=Object(lt.a)(),c={id:r,args:n,reply:t.reply};e.update("need",(function(e){return e.add(r),e})),e.update("hold",(function(e){return Object(ee.a)(Object(ee.a)({},e),{},Object(st.a)({},r,c))})),e.sendSelf(dt)})),Object(st.a)(tt,jt,(function(e){e.get("need").size&&e.sendSelf(bt)})),Object(st.a)(tt,dt,(function(e){e.get("need")>=10&&e.sendSelf(bt)})),Object(st.a)(tt,bt,(function(e){var t=e.get("callback");if("function"===typeof t){var n=e.get("need");e.update("processing",(function(e){return new Set([].concat(Object(We.a)(e),Object(We.a)(n)))})),e.put("need",new Set);var r=e.get("hold");t(Object(We.a)(n).reduce((function(e,t){return Object(ee.a)(Object(ee.a)({},e),{},Object(st.a)({},t,r[t].args))}),{})).then((function(t){e.sendSelf(mt,t)}))}})),Object(st.a)(tt,mt,(function(e,t,n){for(var r=Object.keys(n),c=function(){var t=a[i];e.get("hold")[t].reply(n[t]),e.update("processing",(function(e){return e.delete(t),e})),e.update("hold",(function(e){return delete e[t],e}))},i=0,a=r;i<a.length;i++)c()})),tt),Ot=f.cdc(nt||(nt=Object(L.a)(["\nimport NonFungibleToken from 0xNonFungibleToken\nimport KittyItems from 0xKittyItems\n\npub struct AccountItem {\n  pub let itemID: UInt64\n  pub let typeID: UInt64\n  pub let owner: Address\n\n  init(itemID: UInt64, typeID: UInt64, owner: Address) {\n    self.itemID = itemID\n    self.typeID = typeID\n    self.owner = owner\n  }\n}\n\npub fun fetch(address: Address, id: UInt64): AccountItem? {\n  if let col = getAccount(address).getCapability<&KittyItems.Collection{NonFungibleToken.CollectionPublic, KittyItems.KittyItemsCollectionPublic}>(KittyItems.CollectionPublicPath).borrow() {\n    if let item = col.borrowKittyItem(id: id) {\n      return AccountItem(itemID: id, typeID: item.typeID, owner: address)\n    }\n  }\n\n  return nil\n}\n\npub fun main(keys: [String], addresses: [Address], ids: [UInt64]): {String: AccountItem?} {\n  let r: {String: AccountItem?} = {}\n  var i = 0\n  while i < keys.length {\n    let key = keys[i]\n    let address = addresses[i]\n    let id = ids[i]\n    r[key] = fetch(address: address, id: id)\n    i = i + 1\n  }\n  return r\n}\n"]))),ft=function(e){return Object.keys(e).reduce((function(t,n){return t.keys.push(n),t.addresses.push(e[n][0]),t.ids.push(e[n][1]),t}),{keys:[],addresses:[],ids:[]})},xt=(rt="FETCH_ACCOUNT_ITEM",ct=function(){var e=Object(W.a)(R.a.mark((function e(t){var n,r,c,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ft(t),r=n.keys,c=n.addresses,i=n.ids,e.abrupt("return",f.send([f.script(Ot),f.args([f.arg(r,Y.Array(Y.String)),f.arg(c,Y.Array(Y.Address)),f.arg(i.map(Number),Y.Array(Y.UInt64))])]).then(f.decode));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(ot.h)(pt,rt),Object(ot.f)(rt,ut,ct),{enqueue:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(ot.f)(rt,ht,t,{expectReply:!0,timeout:0})}}).enqueue;function gt(e,t){return yt.apply(this,arguments)}function yt(){return(yt=Object(W.a)(R.a.mark((function e(t,n){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",Promise.resolve(null));case 2:if(null!=n){e.next=4;break}return e.abrupt("return",Promise.resolve(null));case 4:return e.abrupt("return",xt(t,n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kt=f.cdc(it||(it=Object(L.a)(['\n  import FungibleToken from 0xFungibleToken\n  import NonFungibleToken from 0xNonFungibleToken\n  import Kibble from 0xKibble\n  import KittyItems from 0xKittyItems\n  import KittyItemsMarket from 0xKittyItemsMarket\n\n  transaction(itemID: UInt64, price: UFix64) {\n    let kibbleVault: Capability<&Kibble.Vault{FungibleToken.Receiver}>\n    let kittyItemsCollection: Capability<&KittyItems.Collection{NonFungibleToken.Provider, KittyItems.KittyItemsCollectionPublic}>\n    let marketCollection: &KittyItemsMarket.Collection\n\n    prepare(signer: AuthAccount) {\n        // we need a provider capability, but one is not provided by default so we create one.\n        let KittyItemsCollectionProviderPrivatePath = /private/kittyItemsCollectionProvider\n\n        self.kibbleVault = signer.getCapability<&Kibble.Vault{FungibleToken.Receiver}>(Kibble.ReceiverPublicPath)!\n        assert(self.kibbleVault.borrow() != nil, message: "Missing or mis-typed Kibble receiver")\n\n        if !signer.getCapability<&KittyItems.Collection{NonFungibleToken.Provider, KittyItems.KittyItemsCollectionPublic}>(KittyItemsCollectionProviderPrivatePath)!.check() {\n            signer.link<&KittyItems.Collection{NonFungibleToken.Provider, KittyItems.KittyItemsCollectionPublic}>(KittyItemsCollectionProviderPrivatePath, target: KittyItems.CollectionStoragePath)\n        }\n\n        self.kittyItemsCollection = signer.getCapability<&KittyItems.Collection{NonFungibleToken.Provider, KittyItems.KittyItemsCollectionPublic}>(KittyItemsCollectionProviderPrivatePath)!\n        assert(self.kittyItemsCollection.borrow() != nil, message: "Missing or mis-typed KittyItemsCollection provider")\n\n        self.marketCollection = signer.borrow<&KittyItemsMarket.Collection>(from: KittyItemsMarket.CollectionStoragePath)\n            ?? panic("Missing or mis-typed KittyItemsMarket Collection")\n    }\n\n    execute {\n        let offer <- KittyItemsMarket.createSaleOffer (\n            sellerItemProvider: self.kittyItemsCollection,\n            itemID: itemID,\n            typeID: self.kittyItemsCollection.borrow()!.borrowKittyItem(id: itemID)!.typeID,\n            sellerPaymentReceiver: self.kibbleVault,\n            price: price\n        )\n        self.marketCollection.insert(offer: <-offer)\n    }\n}\n'])));function It(e){var t=e.itemID,n=e.price,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==t)throw new Error("createSaleOffer(itemID, price) -- itemID required");if(null==n)throw new Error("createSaleOffer(itemID, price) -- price required");return ae([f.transaction(kt),f.args([f.arg(Number(t),Y.UInt64),f.arg(String(n),Y.UFix64)]),f.proposer(f.authz),f.payer(f.authz),f.authorizations([f.authz]),f.limit(1e3)],r)}function vt(e){return e.split("|")}var wt=Object(l.c)({key:"account-item::state",default:Object(l.d)({key:"account-item::default",get:function(e){return Object(W.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gt.apply(void 0,Object(We.a)(vt(e))));case 1:case"end":return t.stop()}}),t)})))}})}),Ct=Object(l.c)({key:"account-item::status",default:T});var Kt=function(e){var t=e.typeID,c=Object(r.useState)(""),i=Object(p.a)(c,2),a=i[0],s=i[1];return Object(r.useEffect)((function(){function e(){return(e=Object(W.a)(R.a.mark((function e(){var r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(153)("./item0".concat(t,".svg"));case 2:r=e.sent,s(r.default);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t&&function(){e.apply(this,arguments)}()}),[t]),Object(h.jsx)(C.a,{maxW:"64px",src:a})};function Pt(e){var t=e.address,n=e.id,r=function(e,t){var n=y(),r=Object(p.a)(n,1)[0],c=Q(e),i=E(),a=function(e,t){return[e,t].join("|")}(e,t),s=Object(l.e)(wt(a)),o=Object(p.a)(s,2),u=o[0],b=o[1],d=Object(l.e)(Ct(a)),j=Object(p.a)(d,2),h=j[0],m=j[1];return Object(ee.a)(Object(ee.a)({},u),{},{status:h,forSale:i.has(u),owned:Object(f.sansPrefix)(r.addr)===Object(f.sansPrefix)(e),sell:function(e){return Object(W.a)(R.a.mark((function n(){return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,It({itemID:t,price:e},{onStart:function(){m(D)},onSuccess:function(){return Object(W.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.refresh();case 1:case"end":return e.stop()}}),e)})))()},onComplete:function(){return Object(W.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(T);case 1:case"end":return e.stop()}}),e)})))()},onError:function(e){return Object(W.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}});case 2:case"end":return n.stop()}}),n)})))()},refresh:function(){return Object(W.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(D),e.next=3,gt.apply(void 0,Object(We.a)(vt(a))).then(b);case 3:m(T);case 4:case"end":return e.stop()}}),e)})))()}})}(t,n),c=et(t,n),i=y(),a=Object(p.a)(i,1)[0],s=r.status!==T||c.status!==T;return null==t||null==n?null:Object(h.jsxs)(Te.f,{children:[Object(h.jsx)(Te.c,{maxW:"50px",children:Object(h.jsx)(I.a,{children:Object(h.jsxs)(at.a,{as:r.forSale&&"del",children:["#",r.itemID]})})}),Object(h.jsxs)(Te.c,{children:["(",r.typeID,")"]}),Object(h.jsx)(Te.c,{children:Object(h.jsx)(Kt,{typeID:r.typeID})}),a.addr===t&&Object(h.jsx)(h.Fragment,{children:r.forSale?Object(h.jsx)(Te.c,{isNumeric:!0,children:Object(h.jsx)(S.a,{size:"sm",colorScheme:"orange",disabled:s,onClick:c.cancelListing,children:Object(h.jsxs)(w.a,{children:[s&&Object(h.jsx)(Ne.a,{mr:"2",size:"xs"})," ",Object(h.jsx)(at.a,{children:"Unlist"})]})})}):Object(h.jsx)(Te.c,{isNumeric:!0,children:Object(h.jsx)(S.a,{colorScheme:"blue",size:"sm",disabled:s,onClick:function(){return r.sell("10.0")},children:Object(h.jsxs)(w.a,{children:[s&&Object(h.jsx)(Ne.a,{mr:"2",size:"xs"})," ",Object(h.jsx)(at.a,{children:"List NFT For Sale"})]})})})})]})}function St(e){return Object(h.jsx)(r.Suspense,{fallback:Object(h.jsxs)(Te.f,{children:[Object(h.jsx)(Te.c,{children:Object(h.jsxs)(I.a,{children:[Object(h.jsxs)(at.a,{children:["#",e.id]}),Object(h.jsx)(v.a,{ml:"4",children:Object(h.jsx)(Ne.a,{size:"xs"})})]})}),Object(h.jsx)(Te.c,{}),Object(h.jsx)(Te.c,{}),Object(h.jsx)(Te.c,{})]}),children:Object(h.jsx)(Pt,Object(ee.a)({},e))})}function Ft(e){var t=e.address,n=e.id,r=y(),c=Object(p.a)(r,2),i=c[0],a=c[1],s=et(t,n),o=s.status!==T||s.status!==T;return Object(h.jsxs)(Te.f,{children:[Object(h.jsx)(Te.c,{maxW:"50px",children:Object(h.jsx)(I.a,{children:Object(h.jsxs)(at.a,{children:["#",s.itemID]})})}),Object(h.jsxs)(Te.c,{children:["(",s.typeID,")"]}),Object(h.jsx)(Te.c,{children:Object(h.jsx)(Kt,{typeID:s.typeID})}),Object(h.jsx)(Te.c,{children:s.price}),a&&Object(h.jsx)(h.Fragment,{children:s.owner===i.addr?Object(h.jsx)(Te.c,{isNumeric:!0,children:Object(h.jsx)(S.a,{colorScheme:"orange",size:"sm",disabled:o,onClick:s.cancelListing,children:Object(h.jsxs)(w.a,{children:[o&&Object(h.jsx)(Ne.a,{mr:"2",size:"xs"}),Object(h.jsx)(at.a,{children:"Unlist"})]})})}):Object(h.jsx)(Te.c,{isNumeric:!0,children:Object(h.jsx)(S.a,{colorScheme:"blue",size:"sm",disabled:o,onClick:s.buy,children:Object(h.jsxs)(w.a,{children:[o&&Object(h.jsx)(Ne.a,{mr:"2",size:"xs"}),Object(h.jsx)(at.a,{children:"Buy"})]})})})})]})}function Nt(e){return Object(h.jsx)(r.Suspense,{fallback:Object(h.jsxs)(Te.f,{children:[Object(h.jsx)(Te.c,{maxW:"50px",children:Object(h.jsxs)(I.a,{children:[Object(h.jsxs)(at.a,{children:["#",e.id]}),Object(h.jsx)(v.a,{ml:"4",children:Object(h.jsx)(Ne.a,{size:"xs"})})]})}),Object(h.jsx)(Te.c,{}),Object(h.jsx)(Te.c,{})]}),children:Object(h.jsx)(Ft,Object(ee.a)({},e))})}function Tt(){var e=E(),t=e.items,n=e.status;return t.length<=0?Object(h.jsx)(k.a,{borderWidth:"1px",borderRadius:"lg",p:"4",children:Object(h.jsx)(at.a,{children:"No Items Listed For Sale"})}):Object(h.jsx)(k.a,{borderWidth:"1px",borderRadius:"lg",children:Object(h.jsxs)(Te.a,{size:"sm",children:[Object(h.jsx)(Te.e,{children:Object(h.jsxs)(Te.f,{children:[Object(h.jsx)(Te.d,{children:"Id"}),Object(h.jsx)(Te.d,{children:"Type"}),Object(h.jsx)(Te.d,{children:"Name"}),Object(h.jsx)(Te.d,{children:"Description"}),Object(h.jsx)(Te.d,{children:"Image"}),Object(h.jsx)(Te.d,{children:"Price"})]})}),Object(h.jsx)(Te.b,{children:t.map((function(e){return Object(h.jsx)(Nt,{id:e.itemID,address:e.owner,status:n},e.itemID)}))})]})})}function Dt(){return Object(h.jsx)(r.Suspense,{fallback:Object(h.jsx)(k.a,{borderWidth:"1px",borderRadius:"lg",p:"4",children:Object(h.jsx)(Ne.a,{})}),children:Object(h.jsx)(Tt,{})})}function At(e){var t=e.address,n=Q(t),r=y(),c=Object(p.a)(r,1)[0];return null==t?null:n.ids.length<=0?Object(h.jsx)(k.a,{borderWidth:"1px",borderRadius:"lg",p:"4",children:Object(h.jsx)(at.a,{children:"No Items"})}):Object(h.jsx)(k.a,{borderWidth:"1px",borderRadius:"lg",children:Object(h.jsxs)(Te.a,{size:"sm",children:[Object(h.jsx)(Te.e,{children:Object(h.jsxs)(Te.f,{children:[Object(h.jsx)(Te.d,{children:"Id"}),Object(h.jsx)(Te.d,{children:"Type"}),Object(h.jsx)(Te.d,{children:"Image"}),c.addr===t&&Object(h.jsx)(Te.d,{})]})}),Object(h.jsx)(Te.b,{children:n.ids.map((function(e){return Object(h.jsx)(St,{id:e,address:t},e)}))})]})})}function Mt(e){var t=e.address;return Object(h.jsx)(r.Suspense,{fallback:Object(h.jsx)(k.a,{borderWidth:"1px",borderRadius:"lg",p:"4",children:Object(h.jsx)(Ne.a,{})}),children:Object(h.jsx)(At,{address:t})})}var zt=n(185),_t=n(193),Ut=n(186),Et=n(187),Vt=n.p+"static/media/market.36602558.jpg",Bt=n.p+"static/media/NFT.1f4ee2a2.jpg",Rt=n.p+"static/media/createnft.9e13d940.jpg";function Wt(){return null}function Lt(e){var t,n,r=Q(e.address);if(r.status!==T)return Object(h.jsx)(Ne.a,{size:"xs",ml:"1"});var c=null!==(t=null===r||void 0===r||null===(n=r.ids)||void 0===n?void 0:n.length)&&void 0!==t?t:0;return c>0?Object(h.jsx)(zt.a,{ml:"1",children:c}):null}function Yt(e){var t=e.address,n=Ce(t),r=ke(t),c=y(),i=Object(p.a)(c,1)[0],a={type:"info",title:"Initialize Your Account",text:"You need to initialize your account before you can receive VCoins."},s={type:"info",title:"Get VCoins",text:"You need Vcoins to buy NFTs."};function o(e){return Object(h.jsx)(I.a,{my:"4",children:Object(h.jsxs)(_t.a,{status:e.type,children:[Object(h.jsx)(_t.b,{}),Object(h.jsx)(_t.c,{mr:2,children:e.title}),e.text]})})}switch(!0){case!n.isInitialized&&i.addr===t:return o(a);case r.balance<0&&i.addr===t:return o(s);default:return null}}Object(f.config)().put("env","testnet").put("accessNode.api","https://access-testnet.onflow.org").put("challenge.handshake","https://fcl-discovery.onflow.org/testnet/authn").put("0xFungibleToken","0x9a0766d93b6608b7").put("0xNonFungibleToken","0x631e88ae7f1d7c20").put("0xKibble","0x30732c938ecf4e40").put("0xKittyItemsMarket","0x30732c938ecf4e40").put("0xKittyItems","0x30732c938ecf4e40");n(154);window.fcl=f,window.t=Y,a.a.render(Object(h.jsx)(m,{children:Object(h.jsxs)(o.d,{children:[Object(h.jsx)(o.b,{exact:!0,path:"/0x:address",component:function(){var e=A(),t=y(),n=Object(p.a)(t,2),c=n[0],i=n[1];return null==e?Object(h.jsx)("div",{children:"Not Found"}):i?Object(h.jsxs)(O,{children:[Object(h.jsx)("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css",integrity:"sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4",crossOrigin:"anonymous"}),Object(h.jsx)(k.a,{borderWidth:"10px",borderColor:"black",children:Object(h.jsx)(Fe,{})}),Object(h.jsxs)(k.a,{borderWidth:"10px",borderColor:"#2D3748",children:[Object(h.jsxs)(I.a,{mb:"4",children:[Object(h.jsx)(v.a,{children:Object(h.jsxs)(at.a,{mr:"4",fontSize:"2xl",color:"black",children:["Account:"," ",Object(h.jsx)(at.a,{display:"inline",color:"black",fontWeight:"bold",children:e})]})}),e===c.addr&&Object(h.jsx)(v.a,{children:Object(h.jsx)(Ut.a,{ml:"4",variant:"outline",colorScheme:"red",children:"You"})})]}),Object(h.jsx)(r.Suspense,{fallback:null,children:Object(h.jsx)(Yt,{address:e})}),Object(h.jsxs)(I.a,{children:[Object(h.jsx)(k.a,{children:Object(h.jsx)(_e,{address:e})}),Object(h.jsx)(k.a,{ml:"4",children:Object(h.jsx)(Ve,{address:e})})]})]}),Object(h.jsx)(k.a,{borderWidth:"10px",borderColor:"black",style:{backgroundColor:"#A0AEC0"},children:Object(h.jsxs)(Et.e,{colorScheme:"blue",defaultIndex:0,children:[Object(h.jsx)(v.a,{children:Object(h.jsxs)(Et.b,{children:[Object(h.jsxs)(Et.a,{fontSize:"2xl",children:[Object(h.jsxs)(w.a,{children:[Object(h.jsx)(C.a,{src:Bt,alt:"nftToken",style:{width:50,height:50}}),Object(h.jsxs)(k.a,{children:[c.addr===e?"My":"User"," NFTs"]})]}),Object(h.jsx)(r.Suspense,{fallback:null,children:Object(h.jsx)(Lt,{address:e})})]}),Object(h.jsxs)(Et.a,{fontSize:"2xl",children:[Object(h.jsxs)(w.a,{children:[Object(h.jsx)(C.a,{src:Vt,alt:"Marketplace",style:{width:50,height:50}}),Object(h.jsx)(k.a,{children:"NFT Market"})]}),Object(h.jsx)(r.Suspense,{fallback:null,children:Object(h.jsx)(Wt,{})})]}),Object(h.jsx)(Et.a,{fontSize:"2xl",children:Object(h.jsxs)(w.a,{children:[Object(h.jsx)(C.a,{src:Rt,alt:"createnft",style:{width:60,height:50}}),Object(h.jsx)(k.a,{children:"Create NFT"})]})})]})}),Object(h.jsxs)(Et.d,{children:[Object(h.jsx)(Et.c,{children:Object(h.jsx)(Mt,{address:e})}),Object(h.jsx)(Et.c,{children:Object(h.jsx)(Dt,{})}),Object(h.jsx)(Et.c,{children:Object(h.jsx)(r.Suspense,{fallback:null,children:Object(h.jsx)(X,{address:e})})})]})]})})]}):Object(h.jsxs)(O,{children:[Object(h.jsx)("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css",integrity:"sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4",crossOrigin:"anonymous"}),Object(h.jsx)(k.a,{borderWidth:"10px",borderColor:"black",children:Object(h.jsx)(Fe,{})}),Object(h.jsx)(k.a,{borderWidth:"10px",borderColor:"#2D3748"}),Object(h.jsxs)(k.a,{backgroundImage:"url(https://burst.shopifycdn.com/photos/sunlight-reflects-on-water-texture.jpg?width=4460&height=4460&exif=1&iptc=1)",backgroundSize:"cover",backgroundPosition:"center center",p:50,height:500,children:[Object(h.jsxs)(v.a,{children:[Object(h.jsx)(w.a,{children:Object(h.jsx)(k.a,{fontSize:"6xl",color:"white",backgroundColor:"black",p:25,children:"What's For Sale in The Vault?"})}),Object(h.jsx)(r.Suspense,{fallback:null,children:Object(h.jsx)(Wt,{})})]}),Object(h.jsx)("br",{}),Object(h.jsx)(v.a,{children:Object(h.jsx)(k.a,{fontSize:"4xl",color:"white",backgroundColor:"black",maxW:"lg",children:Object(h.jsx)(Dt,{})})})]})]})}}),Object(h.jsx)(o.b,{exact:!0,path:"/",component:function(){var e=y(),t=Object(p.a)(e,3),n=t[0],r=t[1],c=t[2],i=c.signUp,a=c.logIn;return r?Object(h.jsx)(o.a,{to:"/"+n.addr}):Object(h.jsx)(O,{children:Object(h.jsx)(k.a,{p:"4",children:Object(h.jsxs)(I.a,{children:[Object(h.jsx)(v.a,{mr:"4",children:Object(h.jsxs)(w.a,{children:[Object(h.jsx)(C.a,{src:F}),Object(h.jsx)(K.a,{size:"lg",children:"The Vault"})]})}),Object(h.jsx)(P.a,{}),Object(h.jsx)(S.a,{mr:"4",colorScheme:"blue",onClick:a,children:"Log In"}),Object(h.jsx)(S.a,{mr:"4",colorScheme:"blue",onClick:i,children:"Sign Up"})]})})})}}),Object(h.jsx)(o.b,{component:function(){return Object(h.jsx)(O,{children:"Page: Not Found"})}})]})}),document.getElementById("root")),s()}},[[155,1,2]]]);
//# sourceMappingURL=main.f7bfed64.chunk.js.map